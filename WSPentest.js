var WebSocket = require('ws');
var cookie = require('cookie');
var standard_input = process.stdin;
const readline = require('readline').createInterface({
  input: process.stdin,
  output: process.stdout
})

var ws = new WebSocket(
    'wss://',
    [],
    {
        'headers': {
            'Cookie': cookie.serialize('seesion_ID=lol'),
        	'origin':'lol.com'
        }
    }


);


ws.on('open', function open() {

	console.log("Client is connected");





});

 function lol()
{
	
	console.log("\nPlease input text in command line.");
         readline.question(`Enter your data:-  `, (userinput) => {
  		//console.log(`Hi !`)
  		//connection.sendUTF(`${userinput}`);
  		if(userinput=="exit")
  		{  			  console.log('Terminating websocket connecton');

					ws.terminate();
		}
  		else
  		{
  		ws.send(`${userinput}`);
  		//setTimeout(lol, 1000);
		}
			})

    
}

ws.on('message', function incoming(data) {
  console.log(`\n\n Output:- `+data+`\n\n`);
lol();
  

});
